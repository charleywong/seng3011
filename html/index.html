<!DOCTYPE html>
<html lang="en">

<head>
	<title>Documentation</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css">
	<link href="/custom.css" rel="stylesheet" type="text/css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<div id="wrapper">
	<div id="body">

		<nav class="navbar">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">StingRay</a>
				</div>
				<ul class="nav navbar-nav">
					<!--      <li><a href="#">Home</a></li>-->
					<li><a href="/">Documentation</a></li>
					<li><a href="/releases.html">Releases</a></li>
					<li><a href="/search.html">Demo</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="/test.html">Unit Report</a></li>
					<li><a href="/about.html">About Developers</a></li>
				</ul>
			</div>
		</nav>

		<div class="jumbotron">
			<div class="container">
				<h1>Company Returns API</h1>
			</div>
		</div>

		<!--
<div class="container">
		<ol class="breadcrumb">
			<li><a href="#">Home</a></li>
			<li><a href="#">Documentation</a></li>
		</ol>
</div>
-->

		<div class="container">

			<div class="page-header">
				<h2>Documentation</h2>
			</div>

			<h2>API</h2>
			<p>Version <code>0.1.7</code></p>
			<p>Endpoint: <code>/api/company_returns</code></p>
			<p>Method: <code>GET</code></p>
			<h3>Parameters</h3>
			<ul>
				<li><code>InstrumentID</code>[string]: Company unique symbols. Format: <code>ID1,ID2,ID3</code>. Example: AAPL,MSFT,CBA.AX.
					Required <b>yes</b></li>
				<li><code>DateOfInterest</code>[string]: Date of Interest. Format: <code>DD/MM/YYYY</code>. Required: <b>yes</b></li>
				<li><code>ListOfVar</code>[array]: CM_Return, AV_Return. Example: <code>ListOfVar=CM_Return&ListOfVar=AV_Return</code>. Required:
					<b>no</b></li>
				<li><code>UpperWindow</code>[number]: time of interest above date. Must be positive number. Required: <b>yes</b></li>
				<li><code>LowerWindow</code>[number]: time of interest below date. Must be positive number. Required: <b>yes</b></li>
			</ul>
			<p>An example query string is the following: <br> <a href="/api/company_returns?InstrumentID=TLS.AX&ListOfVar=CM_Return&ListOfVar=AV_Return&UpperWindow=5&LowerWindow=3&DateOfInterest=01%2F04%2F2017</a></p>
			<h3>Response</h3>
			<ul>
				<li><code>version</code>[string]: API Version</li>
				<li><code>team</code>[string]: Team name</li>
				<li><code>members</code>[string[]]: Array of team members</li>
				<li><code>startDate</code>[string]: When API start</li>
				<li><code>endDate</code>[string]: When API finish</li>
				<li><code>elapsedTime</code>[string]: how long it takes for API to run</li>
				<li><code>elapsedTimeUnit</code>[string]: Elapsed time Unit</li>
				<li><code>news</code>[Object]: News from 404 API</li>
				<li><code>error</code>[string]: Error message if any</li>
				<li><code>parameters</code>[string]: Given Parameters</li>
				<li><code>log</code>[string]: Path to log files</li>
				<li>
					<code>CompanyReturns</code>[ Object[] ]:
					<ul>
						<li>
							<code>InstrumentID</code>[String]: Company Unique Symbol (ID)
						</li>
						<li>
							<code>Data</code>[Object]:
							<ul>
								<li><code>RelativeDate</code>: Relative Date</li>
								<li><code>Date</code>: Date</li>
								<li><code>Return</code>: Return </li>
								<li><code>Return_Percentage</code>: Return (%)</li>
								<li><code>CM_Return</code>: Cummulative Return</li>
								<li><code>AV_Return</code>: Average Return</li>
								<li><code>Open</code>: OPEN Price</li>
								<li><code>High</code>: HIGH</li>
								<li><code>Low</code>: LOW</li>
								<li><code>Close</code>: Closing Price</li>
								<li><code>AdjustedClose</code>: Adjusted Closing Price</li>
								<li><code>Volume</code>: Volume of Shares traded</li>
							</ul>
						</li>
					</ul>
				</li>
			</ul>
			<h3>Example Response</h3>
			<a id=" collapsible-button " href="#example-response " class="btn btn-info " data-toggle="collapse ">Click here to view</a>
			<div id="example-response " class="collapse ">
				<pre><code id ='response-example'></code></pre>
			</div>
			<h3>Example Error</h3>
			<a id="collapsible-button " href="#example-error " class="btn btn-info " data-toggle="collapse ">Click here to view</a>
			<div id="example-error " class="collapse ">
				<pre><code id ='error-example'></code></pre>
			</div>

			<h3>Curl Example</h3>
			<code>curl "http://ec2-54-160-211-66.compute-1.amazonaws.com:3000/api/company_returns?InstrumentID=TLS.AX&ListOfVar=CM_Return&ListOfVar=AV_Return&UpperWindow=5&LowerWindow=3&DateOfInterest=01%2F04%2F2017 "</code>

			<h3>jQuery Example</h3>
			<pre><code>
$.get(
	'http://ec2-54-160-211-66.compute-1.amazonaws.com:3000/api/company_returns?InstrumentID=TLS.AX&ListOfVar=CM_Return&ListOfVar=AV_Return&UpperWindow=5&LowerWindow=3&DateOfInterest=01%2F04%2F2017'
)
.then(function (data, status) {
	console.log(data, status);
});
			</code></pre>

			<h3>NodeJS ES6 Example</h3>
			<pre><code>
let URL = 'http://ec2-54-160-211-66.compute-1.amazonaws.com:3000/api/company_returns?InstrumentID=TLS.AX&ListOfVar=CM_Return&ListOfVar=AV_Return&UpperWindow=5&LowerWindow=3&DateOfInterest=01%2F04%2F2017';

fetch(URL)
// Got response from API
.then(response => response.json)
// Decode to json 
.then(json => console.log(json))
// Handle error
.catch(err => console.error(err))
			</code></pre>

			<h3>Python Example</h3>
			<pre><code>			
#!/usr/bin/python
import urllib2, json

URL = 'http://ec2-54-160-211-66.compute-1.amazonaws.com:3000/api/company_returns?InstrumentID=TLS.AX&ListOfVar=CM_Return&ListOfVar=AV_Return&UpperWindow=5&LowerWindow=3&DateOfInterest=01%2F04%2F2017'

result = urllib2.urlopen(URL)

data = json.loads(result);
			</code></pre>
			<script>
				$(document).ready(function () {
					$.get(
							'http://ec2-54-160-211-66.compute-1.amazonaws.com:3000/api/company_returns?InstrumentID=TLS.AX&ListOfVar=CM_Return&ListOfVar=AV_Return&UpperWindow=5&LowerWindow=3&DateOfInterest=01%2F04%2F2017'
						)
						.then(function (data, status) {
							$('#response-example').html(JSON.stringify(data, null, 2));
						});
					$.get('http://ec2-54-160-211-66.compute-1.amazonaws.com:3000/api/company_returns')
						.then(function (data, status) {
							$('#error-example').html(JSON.stringify(data, null, 2));
						})
				})
			</script>
			<hr>
		</div>

		<div id="footer ">
			<div class="container ">
				<p id="footer-text " class="text-info text-center ">SENG3011 StingRay: Company Returns 2017</p>
			</div>
		</div>
	</div>

</div>

</html>